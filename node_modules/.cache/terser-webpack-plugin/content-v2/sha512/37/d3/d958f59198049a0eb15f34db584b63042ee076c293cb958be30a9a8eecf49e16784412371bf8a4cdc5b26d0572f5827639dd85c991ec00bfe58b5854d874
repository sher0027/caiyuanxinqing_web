{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-000c94e0\"],{3795:function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return n}));var a=i(\"b775\");function n(t){return Object(a[\"a\"])({url:\"/admin/reservations?pageSize=15\",method:\"get\",params:{pageIndex:t}})}},5723:function(t,e,i){\"use strict\";i.d(e,\"g\",(function(){return n})),i.d(e,\"m\",(function(){return l})),i.d(e,\"k\",(function(){return s})),i.d(e,\"i\",(function(){return o})),i.d(e,\"h\",(function(){return r})),i.d(e,\"a\",(function(){return c})),i.d(e,\"b\",(function(){return d})),i.d(e,\"f\",(function(){return p})),i.d(e,\"c\",(function(){return u})),i.d(e,\"d\",(function(){return h})),i.d(e,\"l\",(function(){return g})),i.d(e,\"j\",(function(){return m})),i.d(e,\"e\",(function(){return b}));var a=i(\"b775\");function n(t){return Object(a[\"a\"])({url:\"/admin/users?pageSize=15\",method:\"get\",params:{pageIndex:t}})}function l(t,e){return Object(a[\"a\"])({url:\"/admin/usersOfName?pageSize=10\",method:\"get\",params:{pageIndex:t,name:e}})}function s(t,e){return Object(a[\"a\"])({url:\"/admin/reservationsOfUser?pageSize=100\",method:\"get\",params:{pageIndex:t,bid:e}})}function o(t){return Object(a[\"a\"])({url:\"/admin/reservationDetail\",method:\"get\",params:{rid:t}})}function r(t){return Object(a[\"a\"])({url:\"/admin/assignableAdmins?pageSize=100\",method:\"get\",params:{pageIndex:t}})}function c(t,e){return Object(a[\"a\"])({url:\"/admin/assignReservation\",method:\"put\",params:{rid:t,assignedAid:e}})}function d(t){return Object(a[\"a\"])({url:\"/admin/claimReservation\",method:\"put\",params:{rid:t}})}function p(t){return Object(a[\"a\"])({url:\"/admin/declineAssignment\",method:\"put\",params:{rid:t}})}function u(t,e,i){return Object(a[\"a\"])({url:\"/admin/confirmReservationSolvedDatetime\",method:\"put\",params:{rid:t,solvedDatetime:e,solvedPlace:i}})}function h(t){return Object(a[\"a\"])({url:\"/admin/finishReservation\",method:\"put\",params:{rid:t}})}function g(t,e){return Object(a[\"a\"])({url:\"/admin/messagesOfUser?pageSize=100\",method:\"get\",params:{pageIndex:t,bid:e}})}function m(t){return Object(a[\"a\"])({url:\"/admin/messageDetail\",method:\"get\",params:{mid:t}})}function b(t){return Object(a[\"a\"])({url:\"/admin/replyMessage\",method:\"put\",params:{mid:t}})}},\"972a\":function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",[i(\"el-row\",[i(\"el-col\",{staticStyle:{\"padding-top\":\"30px\"},attrs:{span:4,offset:1}},[i(\"el-card\",{staticStyle:{width:\"240px\",height:\"120px\"},attrs:{\"body-style\":{padding:\"0px\"},shadow:\"always\"}},[i(\"div\",{staticStyle:{padding:\"14px\"}},[i(\"span\",[t._v(\"待确认预约\")]),i(\"div\",{staticClass:\"card-body\",staticStyle:{\"padding-left\":\"100px\",\"padding-top\":\"10px\",\"font-size\":\"40px\"}},[i(\"span\",[t._v(t._s(t.waitingConfirm))])])])])],1),i(\"el-col\",{staticStyle:{\"padding-top\":\"30px\"},attrs:{span:4,offset:3}},[i(\"el-card\",{staticStyle:{width:\"240px\",height:\"120px\"},attrs:{\"body-style\":{padding:\"0px\"},shadow:\"always\"}},[i(\"div\",{staticStyle:{padding:\"14px\"}},[i(\"span\",[t._v(\"待开展预约\")]),i(\"div\",{staticClass:\"card-body\",staticStyle:{\"padding-left\":\"100px\",\"padding-top\":\"10px\",\"font-size\":\"40px\"}},[i(\"span\",[t._v(t._s(t.waitingStart))])])])])],1),i(\"el-col\",{staticStyle:{\"padding-top\":\"30px\"},attrs:{span:4,offset:3}},[i(\"el-card\",{staticStyle:{width:\"240px\",height:\"120px\"},attrs:{\"body-style\":{padding:\"0px\"},shadow:\"always\"}},[i(\"div\",{staticStyle:{padding:\"14px\"}},[i(\"span\",[t._v(\"已完成预约\")]),i(\"div\",{staticClass:\"card-body\",staticStyle:{\"padding-left\":\"100px\",\"padding-top\":\"10px\",\"font-size\":\"40px\"}},[i(\"span\",[t._v(t._s(t.finished))])])])])],1)],1),i(\"el-row\",{staticStyle:{padding:\"30px 10px\"}},[i(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.personalList,\"default-sort\":{prop:\"date\",order:\"descending\"}}},[i(\"el-table-column\",{attrs:{prop:\"rid\",label:\"ID\",width:\"180\"}}),i(\"el-table-column\",{attrs:{prop:\"bookerName\",label:\"姓名\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"bookerPhone\",label:\"手机号\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"bookerRoleString\",label:\"身份\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"bookerGrade\",label:\"年级\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"bookerGenderString\",label:\"性别\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"solutionString\",label:\"形式\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"topic\",label:\"咨询主题\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"statusString\",label:\"状态\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"solverName\",label:\"对接老师\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"solvedDatetimeString\",label:\"时间\",width:\"180\",sortable:\"\"}}),i(\"el-table-column\",{attrs:{fixed:\"right\",label:\"操作\",width:\"240\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-row\",{attrs:{gutter:5}},[i(\"el-col\",{attrs:{span:10}},[i(\"el-button\",{attrs:{size:\"small\",disabled:!1},nativeOn:{click:function(i){return i.preventDefault(),t.handleGetAppointDetail(e.row)}}},[t._v(\"查看详情\")])],1),i(\"el-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"待指派\"==e.row.statusString,expression:\"scope.row.statusString=='待指派'\"}],attrs:{span:7}},[i(\"el-button\",{attrs:{size:\"small\",disabled:!1},nativeOn:{click:function(i){return i.preventDefault(),t.handleAppoint(e.row)}}},[t._v(\"指派\")])],1),i(\"el-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"待指派\"==e.row.statusString,expression:\"scope.row.statusString=='待指派'\"}],attrs:{span:7}},[i(\"el-button\",{attrs:{size:\"small\",disabled:!1},nativeOn:{click:function(i){return i.preventDefault(),t.handleClaim(e.row)}}},[t._v(\"认领\")])],1),i(\"el-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"待确认\"==e.row.statusString,expression:\"scope.row.statusString=='待确认'\"}],attrs:{span:7}},[i(\"el-button\",{attrs:{size:\"small\",disabled:!1},nativeOn:{click:function(i){return i.preventDefault(),t.handleWithdraw(e.row)}}},[t._v(\"撤回\")])],1),i(\"el-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"待确认\"==e.row.statusString,expression:\"scope.row.statusString=='待确认'\"}],attrs:{span:7}},[i(\"el-button\",{attrs:{size:\"small\",disabled:!1},nativeOn:{click:function(i){return i.preventDefault(),t.handleAllocateTime(e.row)}}},[t._v(\"分配时间\")])],1),i(\"el-col\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"待开展\"==e.row.statusString,expression:\"scope.row.statusString=='待开展'\"}],attrs:{span:14}},[i(\"el-button\",{attrs:{size:\"small\",disabled:!1},nativeOn:{click:function(i){return i.preventDefault(),t.handleFinish(e.row)}}},[t._v(\"完成\")])],1)],1)]}}])})],1)],1),i(\"el-dialog\",{attrs:{title:\"详情\",visible:t.dialogAppointDetailVisible,width:\"70%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.dialogAppointDetailVisible=e}}},[i(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.appointDetail}},[i(\"el-table-column\",{attrs:{prop:\"topic\",label:\"咨询主题\",width:\"120\"}}),i(\"el-table-column\",{attrs:{prop:\"situationDesc\",label:\"主题描述\",width:\"360\"}}),i(\"el-table-column\",{attrs:{prop:\"reservedDatetimes\",label:\"有空时段\",width:\"120\"}})],1)],1),i(\"el-dialog\",{attrs:{title:\"指派\",visible:t.dialogAppointVisible,width:\"70%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.dialogAppointVisible=e}}},[i(\"el-select\",{staticStyle:{width:\"70%\"},attrs:{clearable:\"\",placeholder:\"请选择老师\"},on:{change:function(e){return t.showTeacherMessage(e)}},model:{value:t.adminsList.name,callback:function(e){t.$set(t.adminsList,\"name\",e)},expression:\"adminsList.name\"}},t._l(t.adminsList,(function(t){return i(\"el-option\",{key:t.aid,attrs:{label:t.name,value:t.aid}})})),1),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleAppointSubmit}},[t._v(\"确 定\")]),i(\"el-button\",{on:{click:function(e){t.dialogAppointVisible=!1}}},[t._v(\"取 消\")])],1)],1),i(\"el-dialog\",{attrs:{title:\"认领\",visible:t.dialogClaimVisible,width:\"70%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.dialogClaimVisible=e}}},[i(\"span\",[t._v(\"认领该生？\")]),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleClaimSubmit}},[t._v(\"确 定\")]),i(\"el-button\",{on:{click:function(e){t.dialogClaimVisible=!1}}},[t._v(\"取 消\")])],1)]),i(\"el-dialog\",{attrs:{title:\"撤回\",visible:t.dialogWithdrawVisible,width:\"70%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.dialogWithdrawVisible=e}}},[i(\"span\",[t._v(\"撤回指派/认领该生？\")]),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleWithdrawSubmit}},[t._v(\"确 定\")]),i(\"el-button\",{on:{click:function(e){t.dialogWithdrawVisible=!1}}},[t._v(\"取 消\")])],1)]),i(\"el-dialog\",{attrs:{title:\"分配时间\",visible:t.dialogAllocateTimeVisible,width:\"70%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.dialogAllocateTimeVisible=e}}},[i(\"div\",{staticStyle:{display:\"flex\",\"flex-direction\":\"column\"}},[i(\"span\",{staticStyle:{padding:\"0px 0px 10px\",\"font-size\":\"15px\"}},[t._v(\"时间描述\")]),i(\"span\",{staticStyle:{padding:\"15px 0px\",color:\"#A9A9A90\"}},[t._v(t._s(t.timeDes))]),i(\"span\",{staticStyle:{padding:\"10px 0px 25px\",\"font-size\":\"15px\"}},[t._v(\"分配时间\")]),i(\"el-row\",[i(\"el-col\",{attrs:{span:8}},[i(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"请选择日期\",\"picker-options\":t.pickerOptions,\"value-format\":\"yyyy-MM-dd\"},on:{change:function(e){return t.showDateMessage(e)}},model:{value:t.date,callback:function(e){t.date=e},expression:\"date\"}})],1),i(\"el-col\",{attrs:{span:16}},[i(\"el-time-picker\",{attrs:{placeholder:\"请选择开始时间\",\"value-format\":\"HH:mm\"},on:{change:function(e){return t.showTimeMessage(e)}},model:{value:t.time,callback:function(e){t.time=e},expression:\"time\"}})],1)],1),i(\"span\",{staticStyle:{padding:\"25px 0px\",\"font-size\":\"15px\"}},[t._v(\"分配地点\")]),i(\"el-row\",[i(\"el-col\",{attrs:{span:7}},[i(\"el-input\",{attrs:{placeholder:\"请输入地点\",clearable:\"\"},model:{value:t.solvedplace,callback:function(e){t.solvedplace=e},expression:\"solvedplace\"}})],1),i(\"el-col\",{attrs:{span:12,offset:18}},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleAllocateTimeSubmit}},[t._v(\"确 定\")]),i(\"el-button\",{on:{click:function(e){t.dialogAllocateTimeVisible=!1}}},[t._v(\"取 消\")])],1)],1)],1)]),i(\"el-dialog\",{attrs:{title:\"完成\",visible:t.dialogFinishVisible,width:\"70%\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(e){t.dialogFinishVisible=e}}},[i(\"span\",[t._v(\"已完成该预约？\")]),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleFinishSubmit}},[t._v(\"确 定\")]),i(\"el-button\",{on:{click:function(e){t.dialogFinishVisible=!1}}},[t._v(\"取 消\")])],1)]),i(\"div\",{staticStyle:{\"margin-bottom\":\"10px\",display:\"flex\",\"justify-content\":\"center\"}},[i(\"el-pagination\",{attrs:{background:\"\",layout:\"total, prev, pager, next\",total:t.totalCount,\"page-size\":15,\"pager-count\":11},on:{\"current-change\":t.handlePageChange}})],1)],1)},n=[],l=i(\"ade3\"),s=i(\"b775\");function o(t){return Object(s[\"a\"])({url:\"/admin/myAdmin?pageSize=15\",method:\"get\",params:{pageIndex:t}})}var r,c=i(\"5723\"),d=(i(\"3795\"),{data:function(){return{waitingConfirm:0,waitingStart:0,finished:0,personalList:[],adminsList:[],appointDetail:[],pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}},rid:\"\",assignedAid:\"\",timeDes:\"\",date:\"\",time:\"\",solvedplace:\"\",totalCount:0,pageIndex:1,dialogAppointVisible:!1,dialogClaimVisible:!1,dialogWithdrawVisible:!1,dialogAllocateTimeVisible:!1,dialogFinishVisible:!1,dialogAppointDetailVisible:!1}},methods:(r={fetchPersonalList:function(t){var e=this;o(t).then((function(t){e.waitingConfirm=t.data.waitingConfirm,e.waitingStart=t.data.waitingStart,e.finished=t.data.finished,e.personalList=t.data.myReservations.pageList,e.totalCount=t.data.totalRecord})).catch((function(t){console.log(t)}))},handleGetAppointDetail:function(t){var e=this,i=t.rid;console.log(i),Object(c[\"i\"])(i).then((function(t){console.log(t.data),e.appointDetail[0]=t.data,e.dialogAppointDetailVisible=!0})).catch((function(t){console.log(t)}))},showTeacherMessage:function(t){this.assignedAid=t},handleAppoint:function(t){this.dialogAppointVisible=!0,this.rid=t.rid}},Object(l[\"a\"])(r,\"showTeacherMessage\",(function(t){this.assignedAid=t})),Object(l[\"a\"])(r,\"handleAppointSubmit\",(function(){var t=this,e=this.rid,i=this.assignedAid;console.log(e,i),Object(c[\"a\"])(e,i).then((function(e){t.$message({type:\"success\",message:\"指派成功！\"}),t.dialogAppointVisible=!1,t.fetchPersonalList(t.pageIndex)})).catch((function(t){console.log(t)}))})),Object(l[\"a\"])(r,\"handleClaim\",(function(t){this.dialogClaimVisible=!0,this.rid=t.rid})),Object(l[\"a\"])(r,\"handleClaimSubmit\",(function(){var t=this,e=this.rid;console.log(e),Object(c[\"b\"])(e).then((function(e){t.$message({type:\"success\",message:\"认领成功！\"}),t.dialogClaimVisible=!1,t.fetchPersonalList(t.pageIndex)})).catch((function(t){console.log(t)}))})),Object(l[\"a\"])(r,\"handleWithdraw\",(function(t){this.dialogWithdrawVisible=!0,this.rid=t.rid})),Object(l[\"a\"])(r,\"handleWithdrawSubmit\",(function(){var t=this,e=this.rid;console.log(e),Object(c[\"f\"])(e).then((function(e){t.$message({type:\"success\",message:\"撤回成功！\"}),t.dialogWithdrawVisible=!1,t.fetchPersonalList(t.pageIndex)})).catch((function(t){console.log(t)}))})),Object(l[\"a\"])(r,\"handleAllocateTime\",(function(t){var e=this;this.rid=t.rid;var i=this.rid;this.dialogAllocateTimeVisible=!0,Object(c[\"i\"])(i).then((function(t){console.log(t.data),e.timeDes=t.data.reservedDatetimes})).catch((function(t){console.log(t)}))})),Object(l[\"a\"])(r,\"showDateMessage\",(function(t){this.date=t,console.log(this.date)})),Object(l[\"a\"])(r,\"showTimeMessage\",(function(t){this.time=t,console.log(this.time)})),Object(l[\"a\"])(r,\"handleAllocateTimeSubmit\",(function(){var t=this,e=this.rid;console.log(e);var i=this.date+\" \"+this.time,a=this.solvedplace;console.log(i),Object(c[\"c\"])(e,i,a).then((function(e){t.$message({type:\"success\",message:\"分配时间成功！\"}),t.dialogAllocateTimeVisible=!1,t.fetchPersonalList(t.pageIndex)})).catch((function(t){console.log(t)}))})),Object(l[\"a\"])(r,\"handleFinish\",(function(t){this.rid=t.rid,this.dialogFinishVisible=!0})),Object(l[\"a\"])(r,\"handleFinishSubmit\",(function(){var t=this,e=this.rid;console.log(e),Object(c[\"d\"])(e).then((function(e){console.log(e.data),t.$message({type:\"success\",message:\"已确认完成！\"}),t.dialogFinishVisible=!1,t.fetchPersonalList(t.pageIndex)})).catch((function(t){console.log(t)}))})),Object(l[\"a\"])(r,\"handlePageChange\",(function(t){this.pageIndex=t,console.log(this.pageIndex),this.fetchPersonalList(this.pageIndex)})),r),created:function(){this.fetchPersonalList(1)}}),p=d,u=i(\"2877\"),h=Object(u[\"a\"])(p,a,n,!1,null,null,null);e[\"default\"]=h.exports}}]);","extractedComments":[]}