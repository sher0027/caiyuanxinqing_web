(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21af3c"],{be69:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{margin:"10px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("el-input",{attrs:{placeholder:"请输入内容",size:"small",clearable:""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info",icon:"el-icon-search",size:"small"},on:{click:t.handleSearch}},[t._v("搜索")])],1)])],1),a("el-row",{staticStyle:{padding:"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.logsList}},[a("el-table-column",{attrs:{fixed:"",prop:"createdDatetimeString",label:"日期",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"操作人",width:"180"}}),a("el-table-column",{attrs:{prop:"whatHappened",label:"操作内容",width:"480"}})],1)],1),a("div",{staticStyle:{"margin-bottom":"10px",display:"flex","justify-content":"center"}},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.totalCount,"page-size":15,"pager-count":11},on:{"current-change":t.handlePageChange}})],1)],1)},l=[],o=a("b775");function s(t){return Object(o["a"])({url:"/admin/logs?pageSize=15",method:"get",params:{pageIndex:t}})}function i(t,e){return Object(o["a"])({url:"/admin/logsOfName?pageSize=15",method:"get",params:{pageIndex:t,name:e}})}var c={data:function(){return{logsList:[],searchKey:"",totalCount:0,pageIndex:0}},methods:{fetchlogsList:function(t){var e=this;s(t).then((function(t){console.log(t),e.logsList=t.data.pageList,e.totalCount=t.data.totalRecord})).catch((function(t){console.log(t)}))},handleSearch:function(){var t=this;console.log(this.searchKey),i(1,this.searchKey).then((function(e){t.logsList=e.data.pageList,t.totalCount=e.data.totalRecord})).catch((function(t){console.log(t)}))},handlePageChange:function(t){var e=this;this.pageIndex=t,this.searchKey?i(this.pageIndex,this.searchKey).then((function(t){e.logsList=t.data.pageList,e.totalCount=t.data.totalRecord})).catch((function(t){console.log(t)})):this.fetchlogsList(this.pageIndex)}},created:function(){this.fetchlogsList(1)}},r=c,h=a("2877"),d=Object(h["a"])(r,n,l,!1,null,null,null);e["default"]=d.exports}}]);