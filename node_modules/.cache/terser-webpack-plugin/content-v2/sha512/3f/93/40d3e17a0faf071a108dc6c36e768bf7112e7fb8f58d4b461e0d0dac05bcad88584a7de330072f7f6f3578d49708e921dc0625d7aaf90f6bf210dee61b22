{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-af5f7aba\"],{2017:function(e,s,t){\"use strict\";t(\"cafe\")},4678:function(e,s,t){var n={\"./af\":\"2bfb\",\"./af.js\":\"2bfb\",\"./ar\":\"8e73\",\"./ar-dz\":\"a356\",\"./ar-dz.js\":\"a356\",\"./ar-kw\":\"423e\",\"./ar-kw.js\":\"423e\",\"./ar-ly\":\"1cfd\",\"./ar-ly.js\":\"1cfd\",\"./ar-ma\":\"0a84\",\"./ar-ma.js\":\"0a84\",\"./ar-sa\":\"8230\",\"./ar-sa.js\":\"8230\",\"./ar-tn\":\"6d83\",\"./ar-tn.js\":\"6d83\",\"./ar.js\":\"8e73\",\"./az\":\"485c\",\"./az.js\":\"485c\",\"./be\":\"1fc1\",\"./be.js\":\"1fc1\",\"./bg\":\"84aa\",\"./bg.js\":\"84aa\",\"./bm\":\"a7fa\",\"./bm.js\":\"a7fa\",\"./bn\":\"9043\",\"./bn-bd\":\"9686\",\"./bn-bd.js\":\"9686\",\"./bn.js\":\"9043\",\"./bo\":\"d26a\",\"./bo.js\":\"d26a\",\"./br\":\"6887\",\"./br.js\":\"6887\",\"./bs\":\"2554\",\"./bs.js\":\"2554\",\"./ca\":\"d716\",\"./ca.js\":\"d716\",\"./cs\":\"3c0d\",\"./cs.js\":\"3c0d\",\"./cv\":\"03ec\",\"./cv.js\":\"03ec\",\"./cy\":\"9797\",\"./cy.js\":\"9797\",\"./da\":\"0f14\",\"./da.js\":\"0f14\",\"./de\":\"b469\",\"./de-at\":\"b3eb\",\"./de-at.js\":\"b3eb\",\"./de-ch\":\"bb71\",\"./de-ch.js\":\"bb71\",\"./de.js\":\"b469\",\"./dv\":\"598a\",\"./dv.js\":\"598a\",\"./el\":\"8d47\",\"./el.js\":\"8d47\",\"./en-au\":\"0e6b\",\"./en-au.js\":\"0e6b\",\"./en-ca\":\"3886\",\"./en-ca.js\":\"3886\",\"./en-gb\":\"39a6\",\"./en-gb.js\":\"39a6\",\"./en-ie\":\"e1d3\",\"./en-ie.js\":\"e1d3\",\"./en-il\":\"7333\",\"./en-il.js\":\"7333\",\"./en-in\":\"ec2e\",\"./en-in.js\":\"ec2e\",\"./en-nz\":\"6f50\",\"./en-nz.js\":\"6f50\",\"./en-sg\":\"b7e9\",\"./en-sg.js\":\"b7e9\",\"./eo\":\"65db\",\"./eo.js\":\"65db\",\"./es\":\"898b\",\"./es-do\":\"0a3c\",\"./es-do.js\":\"0a3c\",\"./es-mx\":\"b5b7\",\"./es-mx.js\":\"b5b7\",\"./es-us\":\"55c9\",\"./es-us.js\":\"55c9\",\"./es.js\":\"898b\",\"./et\":\"ec18\",\"./et.js\":\"ec18\",\"./eu\":\"0ff2\",\"./eu.js\":\"0ff2\",\"./fa\":\"8df48\",\"./fa.js\":\"8df48\",\"./fi\":\"81e9\",\"./fi.js\":\"81e9\",\"./fil\":\"d69a\",\"./fil.js\":\"d69a\",\"./fo\":\"0721\",\"./fo.js\":\"0721\",\"./fr\":\"9f26\",\"./fr-ca\":\"d9f8\",\"./fr-ca.js\":\"d9f8\",\"./fr-ch\":\"0e49\",\"./fr-ch.js\":\"0e49\",\"./fr.js\":\"9f26\",\"./fy\":\"7118\",\"./fy.js\":\"7118\",\"./ga\":\"5120\",\"./ga.js\":\"5120\",\"./gd\":\"f6b46\",\"./gd.js\":\"f6b46\",\"./gl\":\"8840\",\"./gl.js\":\"8840\",\"./gom-deva\":\"aaf2\",\"./gom-deva.js\":\"aaf2\",\"./gom-latn\":\"0caa\",\"./gom-latn.js\":\"0caa\",\"./gu\":\"e0c5\",\"./gu.js\":\"e0c5\",\"./he\":\"c7aa\",\"./he.js\":\"c7aa\",\"./hi\":\"dc4d\",\"./hi.js\":\"dc4d\",\"./hr\":\"4ba9\",\"./hr.js\":\"4ba9\",\"./hu\":\"5b14\",\"./hu.js\":\"5b14\",\"./hy-am\":\"d6b6\",\"./hy-am.js\":\"d6b6\",\"./id\":\"5038\",\"./id.js\":\"5038\",\"./is\":\"0558\",\"./is.js\":\"0558\",\"./it\":\"6e98\",\"./it-ch\":\"6f12\",\"./it-ch.js\":\"6f12\",\"./it.js\":\"6e98\",\"./ja\":\"079e\",\"./ja.js\":\"079e\",\"./jv\":\"b540\",\"./jv.js\":\"b540\",\"./ka\":\"201b5\",\"./ka.js\":\"201b5\",\"./kk\":\"6d79\",\"./kk.js\":\"6d79\",\"./km\":\"e81d\",\"./km.js\":\"e81d\",\"./kn\":\"3e92\",\"./kn.js\":\"3e92\",\"./ko\":\"22f8\",\"./ko.js\":\"22f8\",\"./ku\":\"2421\",\"./ku.js\":\"2421\",\"./ky\":\"9609\",\"./ky.js\":\"9609\",\"./lb\":\"440c\",\"./lb.js\":\"440c\",\"./lo\":\"b29d\",\"./lo.js\":\"b29d\",\"./lt\":\"26f9\",\"./lt.js\":\"26f9\",\"./lv\":\"b97c\",\"./lv.js\":\"b97c\",\"./me\":\"293c\",\"./me.js\":\"293c\",\"./mi\":\"688b\",\"./mi.js\":\"688b\",\"./mk\":\"6909\",\"./mk.js\":\"6909\",\"./ml\":\"02fb\",\"./ml.js\":\"02fb\",\"./mn\":\"958b\",\"./mn.js\":\"958b\",\"./mr\":\"39bd\",\"./mr.js\":\"39bd\",\"./ms\":\"ebe4\",\"./ms-my\":\"6403\",\"./ms-my.js\":\"6403\",\"./ms.js\":\"ebe4\",\"./mt\":\"1b45\",\"./mt.js\":\"1b45\",\"./my\":\"8689\",\"./my.js\":\"8689\",\"./nb\":\"6ce3\",\"./nb.js\":\"6ce3\",\"./ne\":\"3a39\",\"./ne.js\":\"3a39\",\"./nl\":\"facd\",\"./nl-be\":\"db29\",\"./nl-be.js\":\"db29\",\"./nl.js\":\"facd\",\"./nn\":\"b84c\",\"./nn.js\":\"b84c\",\"./oc-lnc\":\"167b\",\"./oc-lnc.js\":\"167b\",\"./pa-in\":\"f3ff\",\"./pa-in.js\":\"f3ff\",\"./pl\":\"8d57\",\"./pl.js\":\"8d57\",\"./pt\":\"f260\",\"./pt-br\":\"d2d4\",\"./pt-br.js\":\"d2d4\",\"./pt.js\":\"f260\",\"./ro\":\"972c\",\"./ro.js\":\"972c\",\"./ru\":\"957c\",\"./ru.js\":\"957c\",\"./sd\":\"6784\",\"./sd.js\":\"6784\",\"./se\":\"ffff\",\"./se.js\":\"ffff\",\"./si\":\"eda5\",\"./si.js\":\"eda5\",\"./sk\":\"7be6\",\"./sk.js\":\"7be6\",\"./sl\":\"8155\",\"./sl.js\":\"8155\",\"./sq\":\"c8f3\",\"./sq.js\":\"c8f3\",\"./sr\":\"cf1e9\",\"./sr-cyrl\":\"13e9\",\"./sr-cyrl.js\":\"13e9\",\"./sr.js\":\"cf1e9\",\"./ss\":\"52bd\",\"./ss.js\":\"52bd\",\"./sv\":\"5fbd\",\"./sv.js\":\"5fbd\",\"./sw\":\"74dc\",\"./sw.js\":\"74dc\",\"./ta\":\"3de5\",\"./ta.js\":\"3de5\",\"./te\":\"5cbb\",\"./te.js\":\"5cbb\",\"./tet\":\"576c\",\"./tet.js\":\"576c\",\"./tg\":\"3b1b\",\"./tg.js\":\"3b1b\",\"./th\":\"10e8\",\"./th.js\":\"10e8\",\"./tk\":\"5aff\",\"./tk.js\":\"5aff\",\"./tl-ph\":\"0f38\",\"./tl-ph.js\":\"0f38\",\"./tlh\":\"cf75\",\"./tlh.js\":\"cf75\",\"./tr\":\"0e81\",\"./tr.js\":\"0e81\",\"./tzl\":\"cf51\",\"./tzl.js\":\"cf51\",\"./tzm\":\"c109\",\"./tzm-latn\":\"b53d\",\"./tzm-latn.js\":\"b53d\",\"./tzm.js\":\"c109\",\"./ug-cn\":\"6117\",\"./ug-cn.js\":\"6117\",\"./uk\":\"ada2\",\"./uk.js\":\"ada2\",\"./ur\":\"5294\",\"./ur.js\":\"5294\",\"./uz\":\"2e8c\",\"./uz-latn\":\"010e\",\"./uz-latn.js\":\"010e\",\"./uz.js\":\"2e8c\",\"./vi\":\"2921\",\"./vi.js\":\"2921\",\"./x-pseudo\":\"fd7e\",\"./x-pseudo.js\":\"fd7e\",\"./yo\":\"7f33\",\"./yo.js\":\"7f33\",\"./zh-cn\":\"5c3a\",\"./zh-cn.js\":\"5c3a\",\"./zh-hk\":\"49ab\",\"./zh-hk.js\":\"49ab\",\"./zh-mo\":\"3a6c\",\"./zh-mo.js\":\"3a6c\",\"./zh-tw\":\"90ea\",\"./zh-tw.js\":\"90ea\"};function o(e){var s=a(e);return t(s)}function a(e){if(!t.o(n,e)){var s=new Error(\"Cannot find module '\"+e+\"'\");throw s.code=\"MODULE_NOT_FOUND\",s}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=\"4678\"},\"8d32\":function(e,s,t){},\"9ed6\":function(e,s,t){\"use strict\";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t(\"div\",{staticClass:\"login-container\"},[t(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{model:e.loginForm,rules:e.loginRules,\"auto-complete\":\"on\",\"label-position\":\"left\"}},[t(\"div\",{staticClass:\"title-container\"},[t(\"h3\",{staticClass:\"title\"},[e._v(\"后台登录\")]),t(\"div\",{staticClass:\"login_header\"},[t(\"a\",{class:{active:1==e.cur},on:{click:function(s){e.cur=!0}}},[e._v(\"密码登录\")]),t(\"a\",{class:{active:0==e.cur},on:{click:function(s){e.cur=!1}}},[e._v(\"短信登录\")])])]),t(\"div\",{staticClass:\"login_content\"},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:1==e.cur,expression:\"cur==true\"}],staticClass:\"body\"},[t(\"el-form-item\",{attrs:{prop:\"phone\"}},[t(\"span\",{staticClass:\"svg-container\"},[t(\"svg-icon\",{attrs:{\"icon-class\":\"phone\"}})],1),t(\"el-input\",{ref:\"phone\",attrs:{placeholder:\"手机号\",name:\"phone\",type:\"text\",tabindex:\"1\",\"auto-complete\":\"on\"},model:{value:e.loginForm.phone,callback:function(s){e.$set(e.loginForm,\"phone\",s)},expression:\"loginForm.phone\"}})],1),t(\"el-form-item\",{attrs:{prop:\"password\"}},[t(\"span\",{staticClass:\"svg-container\"},[t(\"svg-icon\",{attrs:{\"icon-class\":\"password\"}})],1),t(\"el-input\",{key:e.passwordType,ref:\"password\",attrs:{type:e.passwordType,placeholder:\"密码\",name:\"password\",tabindex:\"2\",\"auto-complete\":\"on\"},nativeOn:{keyup:function(s){return!s.type.indexOf(\"key\")&&e._k(s.keyCode,\"enter\",13,s.key,\"Enter\")?null:e.handleLogin(s)}},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,\"password\",s)},expression:\"loginForm.password\"}}),t(\"span\",{staticClass:\"show-pwd\",on:{click:e.showPwd}},[t(\"svg-icon\",{attrs:{\"icon-class\":\"password\"===e.passwordType?\"eye\":\"eye-open\"}})],1)],1)],1),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0==e.cur,expression:\"cur==false\"}],staticClass:\"body\"},[t(\"el-form-item\",{attrs:{prop:\"name\"}},[t(\"span\",{staticClass:\"svg-container\"},[t(\"svg-icon\",{attrs:{\"icon-class\":\"user\"}})],1),t(\"el-input\",{ref:\"name\",attrs:{placeholder:\"用户名(姓名)\",name:\"name\",type:\"text\",tabindex:\"1\",\"auto-complete\":\"on\"},on:{input:function(s){return e.IsNameValid()}},model:{value:e.getCodeForm.name,callback:function(s){e.$set(e.getCodeForm,\"name\",s)},expression:\"getCodeForm.name\"}})],1),t(\"el-form-item\",{attrs:{prop:\"phone\"}},[t(\"span\",{staticClass:\"svg-container\"},[t(\"svg-icon\",{attrs:{\"icon-class\":\"phone\"}})],1),t(\"el-input\",{ref:\"phone\",attrs:{placeholder:\"手机号\",name:\"phone\",type:\"text\",tabindex:\"1\",\"auto-complete\":\"on\"},on:{input:function(s){return e.IsPhoneValid()}},model:{value:e.getCodeForm.phone,callback:function(s){e.$set(e.getCodeForm,\"phone\",s)},expression:\"getCodeForm.phone\"}})],1),e.NameValid&&e.PhoneValid?t(\"el-form-item\",{attrs:{prop:\"verifyCode\"}},[t(\"el-row\",{staticStyle:{height:\"47px\"},attrs:{type:\"flex\"}},[t(\"span\",{staticClass:\"svg-container\"},[t(\"svg-icon\",{attrs:{\"icon-class\":\"message\"}})],1),t(\"el-col\",{attrs:{span:18}},[t(\"el-input\",{ref:\"verifyCode\",attrs:{placeholder:\"验证码\",name:\"verifyCode\",type:\"text\",tabindex:\"3\",\"auto-complete\":\"on\"},model:{value:e.loginForm.verifyCode,callback:function(s){e.$set(e.loginForm,\"verifyCode\",s)},expression:\"loginForm.verifyCode\"}})],1),t(\"el-col\",{attrs:{span:8}},[t(\"el-button\",{staticStyle:{width:\"100%\",\"margin-top\":\"3px\"},attrs:{loading:e.sending,disabled:!(e.NameValid&&e.PhoneValid&&0==e.timer),type:\"primary\"},nativeOn:{click:function(s){return s.preventDefault(),e.handleGetCode(s)}}},[e._v(e._s(e.sendButtonText))])],1)],1)],1):e._e()],1)]),t(\"el-button\",{staticStyle:{width:\"100%\",\"margin-bottom\":\"30px\"},attrs:{loading:e.loading,type:\"primary\"},nativeOn:{click:function(s){return s.preventDefault(),e.handleLogin(s)}}},[e._v(\"登录\")])],1)],1)},o=[],a=(t(\"b0c0\"),t(\"d3b7\"),t(\"61f7\")),i=(t(\"5f87\"),t(\"a78e\")),r=t.n(i),c=t(\"c1df\"),d=t.n(c),l={name:\"Login\",data:function(){var e=function(e,s,t){Object(a[\"b\"])(s)?t():t(new Error(\"请输入正确的用户名\"))},s=function(e,s,t){Object(a[\"d\"])(s)?t():t(new Error(\"请输入正确的手机号\"))},t=function(e,s,t){Object(a[\"c\"])(s)?t():t(new Error(\"请输入正确的密码\"))},n=function(e,s,t){Object(a[\"e\"])(s)?t():t(new Error(\"验证码错误\"))};return{getCodeForm:{name:\"\",phone:\"\"},loginForm:{name:\"\",phone:\"\",password:\"\",verifyCode:\"\"},loginRules:{name:[{required:!0,trigger:\"blur\",validator:e}],phone:[{required:!0,trigger:\"blur\",validator:s}],password:[{required:!0,trigger:\"blur\",validator:t}],verifyCode:[{required:!0,trigger:\"blur\",validator:n}]},cur:!0,loading:!1,sending:!1,NameValid:!1,PhoneValid:!1,sendDisabled:!0,timer:0,passwordType:\"password\",redirect:void 0}},computed:{sendButtonText:function(){return 0===this.timer?\"发送验证码\":\"\".concat(this.timer,\"秒后重发\")}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0},timer:function(e){var s=this;e>0&&setTimeout((function(){s.timer=--e}),1e3)}},created:function(){var e=r.a.get(\"last-send-time\");if(e){var s=60-d()().diff(d()(e),\"seconds\");this.timer=s>0?s:0}},methods:{IsNameValid:function(){var e=this;this.loginForm.name=this.getCodeForm.name,this.$refs.loginForm.validateField(\"name\",(function(s){s||(e.NameValid=!0)}))},IsPhoneValid:function(){var e=this;this.loginForm.phone=this.getCodeForm.phone,this.$refs.loginForm.validateField(\"phone\",(function(s){s||(e.PhoneValid=!0)}))},handleGetCode:function(){var e=this;console.log(this.loginForm),console.log(this.getCodeForm),this.$store.dispatch(\"user/getCode\",this.getCodeForm).then((function(){e.sending=!0,e.$message({type:\"success\",message:\"验证码已发送！\"}),r.a.set(\"last-send-time\",new Date),e.timer=60})).catch((function(){console.log(\"错误\")})).finally((function(){return e.sending=!1}))},showPwd:function(){var e=this;\"password\"===this.passwordType?this.passwordType=\"\":this.passwordType=\"password\",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.cur?this.$refs.loginForm.validateField(\"password\",(function(s){if(s)return console.log(\"loginByPassword信息有误\"),!1;console.log(\"登录中\"),e.loading=!0,e.$store.dispatch(\"user/loginByPassword\",e.loginForm).then((function(){console.log(\"你好\"),e.$router.push({path:e.redirect||\"/\"}),e.loading=!1})).catch((function(){e.loading=!1}))})):(this.loginForm.name=this.getCodeForm.name,this.loginForm.phone=this.getCodeForm.phone,this.$refs.loginForm.validateField(\"verifyCode\",(function(s){if(s)return console.log(\"loginByVerifyCode信息有误\"),!1;console.log(\"登录中\"),e.loading=!0,delete e.loginForm.password,console.log(e.loginForm),e.$store.dispatch(\"user/loginByVerifyCode\",e.loginForm).then((function(){e.$router.push({path:e.redirect||\"/\"}),e.loading=!1})).catch((function(){e.loading=!1}))})))}}},f=l,u=(t(\"2017\"),t(\"d5d8\"),t(\"2877\")),m=Object(u[\"a\"])(f,n,o,!1,null,\"161bb8e8\",null);s[\"default\"]=m.exports},cafe:function(e,s,t){},d5d8:function(e,s,t){\"use strict\";t(\"8d32\")}}]);","extractedComments":[]}