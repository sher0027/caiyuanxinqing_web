{"remainingRequest":"C:\\Users\\Sher\\Desktop\\前端\\材苑心晴\\材苑心晴后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Sher\\Desktop\\前端\\材苑心晴\\材苑心晴后台\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\Sher\\Desktop\\前端\\材苑心晴\\材苑心晴后台\\src\\store\\modules\\user.js","mtime":1637045083517},{"path":"C:\\Users\\Sher\\Desktop\\前端\\材苑心晴\\材苑心晴后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sher\\Desktop\\前端\\材苑心晴\\材苑心晴后台\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHsgbG9naW5CeVZlcmlmeUNvZGUgYXMgX2xvZ2luQnlWZXJpZnlDb2RlLCBsb2dpbkJ5UGFzc3dvcmQgYXMgX2xvZ2luQnlQYXNzd29yZCwgZ2V0Q29kZSBhcyBfZ2V0Q29kZSwgZ2V0Um9sZSBhcyBfZ2V0Um9sZSB9IGZyb20gJ0AvYXBpL2xvZ2luJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIHNldFRva2VuLCByZW1vdmVUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAnQC9yb3V0ZXInOwoKdmFyIGdldERlZmF1bHRTdGF0ZSA9IGZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZSgpIHsKICByZXR1cm4gewogICAgdG9rZW46IGdldFRva2VuKCksCiAgICBuYW1lOiAnJywKICAgIHBob25lOiAnJywKICAgIHJvbGVzOiBbXQogIH07Cn07Cgp2YXIgc3RhdGUgPSBnZXREZWZhdWx0U3RhdGUoKTsKdmFyIG11dGF0aW9ucyA9IHsKICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoc3RhdGUpIHsKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGdldERlZmF1bHRTdGF0ZSgpKTsKICB9LAogIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIFNFVF9OQU1FOiBmdW5jdGlvbiBTRVRfTkFNRShzdGF0ZSwgbmFtZSkgewogICAgc3RhdGUubmFtZSA9IG5hbWU7CiAgfSwKICBTRVRfUEhPTkU6IGZ1bmN0aW9uIFNFVF9QSE9ORShzdGF0ZSwgcGhvbmUpIHsKICAgIHN0YXRlLnBob25lID0gcGhvbmU7CiAgfSwKICBTRVRfUk9MRVM6IGZ1bmN0aW9uIFNFVF9ST0xFUyhzdGF0ZSwgcm9sZXMpIHsKICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvL+WvhueggeeZu+W9lQogIGxvZ2luQnlQYXNzd29yZDogZnVuY3Rpb24gbG9naW5CeVBhc3N3b3JkKF9yZWYsIHVzZXJJbmZvKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICB2YXIgcGhvbmUgPSB1c2VySW5mby5waG9uZSwKICAgICAgICBwYXNzd29yZCA9IHVzZXJJbmZvLnBhc3N3b3JkOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2xvZ2luQnlQYXNzd29yZCh7CiAgICAgICAgcGhvbmU6IHBob25lLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgc2V0VG9rZW4ocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coc3RhdGUudG9rZW4pOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8v6aqM6K+B56CB55m75b2VCiAgbG9naW5CeVZlcmlmeUNvZGU6IGZ1bmN0aW9uIGxvZ2luQnlWZXJpZnlDb2RlKF9yZWYyLCB1c2VySW5mbykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIHZhciBuYW1lID0gdXNlckluZm8ubmFtZSwKICAgICAgICBwaG9uZSA9IHVzZXJJbmZvLnBob25lLAogICAgICAgIHZlcmlmeUNvZGUgPSB1c2VySW5mby52ZXJpZnlDb2RlOwogICAgY29uc29sZS5sb2codXNlckluZm8pOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgX2xvZ2luQnlWZXJpZnlDb2RlKHsKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIHBob25lOiBwaG9uZSwKICAgICAgICB2ZXJpZnlDb2RlOiB2ZXJpZnlDb2RlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+mqjOivgeeggeeZu+W9lScpOwogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29tbWl0KCdTRVRfTkFNRScsIG5hbWUpOyAvLyBjb21taXQoJ1NFVF9QSE9ORScsIHBob25lKQoKICAgICAgICBzZXRUb2tlbihyZXNwb25zZS5kYXRhKTsKICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS50b2tlbik7CiAgICAgICAgY29uc29sZS5sb2coc3RhdGUubmFtZSk7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gZ2V0IHVzZXIgaW5mbwogIGdldEluZm86IGZ1bmN0aW9uIChfZ2V0SW5mbykgewogICAgZnVuY3Rpb24gZ2V0SW5mbyhfeCkgewogICAgICByZXR1cm4gX2dldEluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBnZXRJbmZvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gX2dldEluZm8udG9TdHJpbmcoKTsKICAgIH07CgogICAgcmV0dXJuIGdldEluZm87CiAgfShmdW5jdGlvbiAoX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGdldEluZm8oc3RhdGUudG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBpZiAoIWRhdGEpIHsKICAgICAgICAgIHJldHVybiByZWplY3QoJ1ZlcmlmaWNhdGlvbiBmYWlsZWQsIHBsZWFzZSBMb2dpbiBhZ2Fpbi4nKTsKICAgICAgICB9CgogICAgICAgIHZhciBuYW1lID0gZGF0YS5uYW1lLAogICAgICAgICAgICBwaG9uZSA9IGRhdGEucGhvbmU7CiAgICAgICAgY29tbWl0KCdTRVRfbmFtZSAnLCBuYW1lKTsKICAgICAgICBjb21taXQoJ1NFVF9QSE9ORScsIHBob25lKTsKICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0pLAogIC8vIOiOt+WPlumqjOivgeeggQogIGdldENvZGU6IGZ1bmN0aW9uIGdldENvZGUoX3JlZjQsIGJhc2VJbmZvKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgdmFyIG5hbWUgPSBiYXNlSW5mby5uYW1lLAogICAgICAgIHBob25lID0gYmFzZUluZm8ucGhvbmU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfZ2V0Q29kZShuYW1lLCBwaG9uZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W6aqM6K+B56CBJyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCByZXNwb25zZS5kYXRhKTsKICAgICAgICBzZXRUb2tlbihyZXNwb25zZS5kYXRhKTsKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgY29uc29sZS5sb2coJ+mqjOivgeeggeiOt+WPluWksei0pScpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g6I635Y+W6Lqr5Lu9CiAgZ2V0Um9sZTogZnVuY3Rpb24gZ2V0Um9sZShfcmVmNSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9nZXRSb2xlKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZygn6I635Y+W6Lqr5Lu9Jyk7CiAgICAgICAgdmFyIG9yZGluID0gWydvcmRpbiddOwogICAgICAgIHZhciBhZG1pbiA9IFsnYWRtaW4nXTsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIGlmICghZGF0YSkgewogICAgICAgICAgcmVqZWN0KCdWZXJpZmljYXRpb24gZmFpbGVkLCBwbGVhc2UgTG9naW4gYWdhaW4uJyk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKCiAgICAgICAgaWYgKGRhdGEgPT0gMSkgewogICAgICAgICAgY29tbWl0KCdTRVRfUk9MRVMnLCBvcmRpbik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgYWRtaW4pOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ+iOt+WPlui6q+S7vWxvJyk7CiAgICAgICAgY29uc29sZS5sb2coc3RhdGUucm9sZXMpOwogICAgICAgIHJlc29sdmUoc3RhdGUucm9sZXMpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIGNvbnNvbGUubG9nKCfouqvku73ojrflj5blpLHotKUnKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIHVzZXIgbG9nb3V0CiAgbG9nb3V0OiBmdW5jdGlvbiAoX2xvZ291dCkgewogICAgZnVuY3Rpb24gbG9nb3V0KF94MikgewogICAgICByZXR1cm4gX2xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGxvZ291dC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF9sb2dvdXQudG9TdHJpbmcoKTsKICAgIH07CgogICAgcmV0dXJuIGxvZ291dDsKICB9KGZ1bmN0aW9uIChfcmVmNikgewogICAgdmFyIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgbG9nb3V0KHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZW1vdmVUb2tlbigpOyAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CgogICAgICAgIHJlc2V0Um91dGVyKCk7CiAgICAgICAgY29tbWl0KCdSRVNFVF9TVEFURScpOwogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9KSwKICAvLyByZW1vdmUgdG9rZW4KICByZXNldFRva2VuOiBmdW5jdGlvbiByZXNldFRva2VuKF9yZWY3KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHJlbW92ZVRva2VuKCk7IC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKCiAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["C:/Users/Sher/Desktop/前端/材苑心晴/材苑心晴后台/src/store/modules/user.js"],"names":["loginByVerifyCode","loginByPassword","getCode","getRole","getToken","setToken","removeToken","resetRouter","getDefaultState","token","name","phone","roles","state","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_NAME","SET_PHONE","SET_ROLES","actions","userInfo","commit","password","Promise","resolve","reject","then","response","data","console","log","catch","error","verifyCode","getInfo","baseInfo","ordin","admin","logout","resetToken","namespaced"],"mappings":"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","sourcesContent":["import { loginByVerifyCode, loginByPassword, getCode, getRole} from '@/api/login'\nimport { getToken, setToken, removeToken } from '@/utils/auth'\nimport { resetRouter } from '@/router'\n\n\nconst getDefaultState = () => {\n  return {\n    token: getToken(),\n    name: '',\n    phone: '',\n    roles: []\n  }\n}\n\nconst state = getDefaultState()\n\nconst mutations = {\n  RESET_STATE: (state) => {\n    Object.assign(state, getDefaultState())\n  },\n  SET_TOKEN: (state, token) => {\n    state.token = token\n  },\n  SET_NAME  : (state, name) => {\n    state.name = name \n  },\n  SET_PHONE: (state, phone) => {\n    state.phone = phone\n  },\n  SET_ROLES: (state, roles) => {\n    state.roles = roles\n  },\n}\n\nconst actions = {\n  //密码登录\n  loginByPassword({ commit }, userInfo) {\n    const { phone, password } = userInfo\n    return new Promise((resolve, reject) => {\n      loginByPassword({ phone: phone, password: password }).then(response => {\n        commit('SET_TOKEN', response.data)\n        setToken(response.data)\n        console.log(state.token)\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  //验证码登录\n  loginByVerifyCode({ commit }, userInfo) {\n    const { name, phone, verifyCode } = userInfo\n    console.log(userInfo)\n    return new Promise((resolve, reject) => {\n      loginByVerifyCode({name:name, phone:phone, verifyCode:verifyCode }).then(response => {\n        console.log('验证码登录')\n        console.log(response.data)\n        commit('SET_TOKEN', response.data)\n        commit('SET_NAME', name)\n        // commit('SET_PHONE', phone)\n        setToken(response.data)\n        console.log(state.token)\n        console.log(state.name)\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n      \n    })\n  },\n\n  // get user info\n  getInfo({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      getInfo(state.token).then(response => {\n        const { data } = response\n\n        if (!data) {\n          return reject('Verification failed, please Login again.')\n        }\n\n        const { name , phone } = data\n\n        commit('SET_name ', name)\n        commit('SET_PHONE', phone)\n        resolve(data)\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // 获取验证码\n  getCode({ commit }, baseInfo) {\n    const { name, phone } = baseInfo;\n    return new Promise((resolve, reject) => {\n      getCode(name, phone).then(response => {\n        console.log('获取验证码')\n        console.log(response.data)\n        commit('SET_TOKEN', response.data)\n        setToken(response.data)\n        resolve()\n      }).catch(error => {\n        reject(error)\n        console.log('验证码获取失败')\n      })\n    })\n  },\n\n  // 获取身份\n  getRole({ commit }) {\n    return new Promise((resolve, reject) => {\n      getRole().then(response => {\n        console.log('获取身份')\n        const ordin =['ordin']\n        const admin =['admin']\n        const { data } = response\n\n        if (!data) {\n          reject('Verification failed, please Login again.')\n        }\n        console.log(response.data)\n        if(data == 1){\n          commit('SET_ROLES', ordin)\n        }else{\n          commit('SET_ROLES', admin)\n        }\n        console.log('获取身份lo')\n        console.log(state.roles)\n        resolve(state.roles)\n      }).catch(error => {\n        reject(error)\n        console.log('身份获取失败')\n      })\n    })\n  },\n\n  // user logout\n  logout({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      logout(state.token).then(() => {\n        removeToken() // must remove  token  first\n        resetRouter()\n        commit('RESET_STATE')\n        resolve()\n      }).catch(error => {\n        reject(error)\n      })\n    })\n  },\n\n  // remove token\n  resetToken({ commit }) {\n    return new Promise(resolve => {\n      removeToken() // must remove  token  first\n      commit('RESET_STATE')\n      resolve()\n    })\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n\n"]}]}