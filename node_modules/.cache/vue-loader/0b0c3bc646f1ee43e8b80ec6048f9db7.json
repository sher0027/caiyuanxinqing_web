{"remainingRequest":"C:\\Users\\Sher\\Desktop\\1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Sher\\Desktop\\1\\src\\views\\logs\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Sher\\Desktop\\1\\src\\views\\logs\\index.vue","mtime":1632493344011},{"path":"C:\\Users\\Sher\\Desktop\\1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sher\\Desktop\\1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Sher\\Desktop\\1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Sher\\Desktop\\1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUXVlc3Rpb25Gb3JtIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvcXVlc3Rpb24vaW5kZXgiOw0KaW1wb3J0IHsgZ2V0UXVlc3Rpb24sIGFkZFF1ZXN0aW9uLCBlZGl0UXVlc3Rpb24sIGRlbGV0ZVF1ZXN0aW9uIH0gZnJvbSAiQC9hcGkvcXVlc3Rpb24iOw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgUXVlc3Rpb25Gb3JtDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgcXVlc3Rpb25MaXN0OiBbXSwNCiAgICAgIHF1ZXN0aW9uOiB7fSwNCiAgICAgIGNoYW5nZVF1ZXN0aW9uOiB7fSwNCiAgICAgIHRvdGFsQ291bnQ6IDAsDQogICAgICBwYWdlSW5kZXg6IDANCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZmV0Y2hRdWVzdGlvbkxpc3QocGFnZUluZGV4KSB7DQogICAgICBnZXRRdWVzdGlvbihwYWdlSW5kZXgpDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy5xdWVzdGlvbkxpc3QgPSByZXMuZGF0YTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVTdWJtaXQocXVlc3Rpb24pIHsNCiAgICAgIC8vY29uc29sZS5sb2cocXVlc3Rpb24pOw0KICAgICAgYWRkUXVlc3Rpb24ocXVlc3Rpb24pDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgbWVzc2FnZTogIuaWsOWinumXrumimOaIkOWKn++8gSINCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmZldGNoUXVlc3Rpb25MaXN0KHRoaXMucGFnZUluZGV4KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVBZGRRdWVzdGlvbigpIHsNCiAgICAgIHRoaXMucXVlc3Rpb24gPSB7fTsNCiAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgfSwNCiAgICBoYW5kbGVBZGRDYW5jZWwoKSB7DQogICAgICB0aGlzLmFkZERpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICB9LA0KICAgIGhhbmRsZUVkaXRDYW5jZWwoKSB7DQogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgfSwNCiAgICBoYW5kbGVFZGl0KHJvdykgew0KICAgICAgKHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlKSwNCiAgICAgICAgKHRoaXMuY2hhbmdlUXVlc3Rpb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvdykpKTsNCiAgICB9LA0KICAgIGhhbmRsZUNoYW5nZShxdWVzdGlvbikgew0KICAgICAgLy9jb25zb2xlLmxvZyhxdWVzdGlvbik7DQogICAgICBlZGl0UXVlc3Rpb24ocXVlc3Rpb24pDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgbWVzc2FnZTogIuS/ruaUuemXrumimOaIkOWKn++8gSINCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5mZXRjaFF1ZXN0aW9uTGlzdCh0aGlzLnBhZ2VJbmRleCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvLyDliIbpobUNCiAgICAvLyBoYW5kbGVQYWdlQ2hhbmdlKHBhZ2UpIHsNCiAgICAvLyAgIHRoaXMucGFnZUluZGV4ID0gcGFnZSAtIDE7DQogICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnBhZ2VJbmRleCk7DQogICAgLy8gICB0aGlzLmZldGNoUXVlc3Rpb25MaXN0KHRoaXMucGFnZUluZGV4KTsNCiAgICAvLyB9LA0KDQogICAgICAgICAgICAvLyDliKDpmaQNCiAgICBoYW5kbGVEZWxldGUocm93KSB7DQogICAgICBjb25zb2xlLmxvZyhyb3cpDQogICAgICBkZWxldGVRdWVzdGlvbihyb3cuaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgIG1lc3NhZ2U6IuW3suWIoOmZpO+8gSINCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuZmV0Y2hRdWVzdGlvbkxpc3QodGhpcy5wYWdlSW5kZXgpOw0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKQ0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5mZXRjaFF1ZXN0aW9uTGlzdCgwKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/logs","sourcesContent":["<template>\r\n  <div>\r\n    <el-row :gutter=\"20\" style=\"margin: 10px\">\r\n      <el-col :span=\"7\">\r\n        <div style=\"display: flex; flex-direction: row;\">\r\n          <el-input v-model=\"searchKey\" placeholder=\"请输入内容\" size=\"small\"></el-input>\r\n          <el-button\r\n            type=\"info\"\r\n            icon=\"el-icon-search\"\r\n            size=\"small\"\r\n            style=\"margin-left: 10px\"\r\n            @click=\"handleSearch\"\r\n          >搜索</el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row style=\"padding:10px\">\r\n      <el-table :data=\"questionList\" style=\"width: 100%\">\r\n        <el-table-column fixed prop=\"question\" label=\"日期\" width=\"400\"></el-table-column>\r\n        <el-table-column prop=\"answer\" label=\"操作人\"></el-table-column>\r\n        <el-table-column fixed=\"right\" label=\"操作内容\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"handleEdit(scope.row)\" type=\"text\" size=\"small\">编辑</el-button>\r\n            <el-popconfirm title=\"确定删除此数据？\" @onConfirm=\"handleDelete(scope.row)\">\r\n              <el-button slot=\"reference\" type=\"text\" size=\"small\" style=\"margin-left:10px\">删除</el-button>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-row>\r\n\r\n    <el-dialog title=\"新增问题\" :close-on-click-modal=\"false\" :visible.sync=\"addDialogVisible\">\r\n      <question-form\r\n        :questionForm=\"question\"\r\n        :from=\"'add'\"\r\n        @on-submit=\"handleSubmit\"\r\n        @on-cancel=\"handleAddCancel\"\r\n      ></question-form>\r\n    </el-dialog>\r\n    <el-dialog title=\"修改问题\" :close-on-click-modal=\"false\" :visible.sync=\"editDialogVisible\">\r\n      <question-form\r\n        :questionForm=\"changeQuestion\"\r\n        :from=\"'edit'\"\r\n        @on-submit=\"handleChange\"\r\n        @on-cancel=\"handleEditCancel\"\r\n      ></question-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport QuestionForm from \"../../components/question/index\";\r\nimport { getQuestion, addQuestion, editQuestion, deleteQuestion } from \"@/api/question\";\r\nexport default {\r\n  components: {\r\n    QuestionForm\r\n  },\r\n  data() {\r\n    return {\r\n      addDialogVisible: false,\r\n      editDialogVisible: false,\r\n      questionList: [],\r\n      question: {},\r\n      changeQuestion: {},\r\n      totalCount: 0,\r\n      pageIndex: 0\r\n    };\r\n  },\r\n  methods: {\r\n    fetchQuestionList(pageIndex) {\r\n      getQuestion(pageIndex)\r\n        .then(res => {\r\n          this.questionList = res.data;\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    handleSubmit(question) {\r\n      //console.log(question);\r\n      addQuestion(question)\r\n        .then(res => {\r\n          //console.log(res);\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"新增问题成功！\"\r\n          });\r\n          this.addDialogVisible = false;\r\n          this.fetchQuestionList(this.pageIndex);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    handleAddQuestion() {\r\n      this.question = {};\r\n      this.addDialogVisible = true;\r\n    },\r\n    handleAddCancel() {\r\n      this.addDialogVisible = false;\r\n    },\r\n    handleEditCancel() {\r\n      this.editDialogVisible = false;\r\n    },\r\n    handleEdit(row) {\r\n      (this.editDialogVisible = true),\r\n        (this.changeQuestion = JSON.parse(JSON.stringify(row)));\r\n    },\r\n    handleChange(question) {\r\n      //console.log(question);\r\n      editQuestion(question)\r\n        .then(res => {\r\n          //console.log(res);\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"修改问题成功！\"\r\n          });\r\n          this.editDialogVisible = false;\r\n          this.fetchQuestionList(this.pageIndex);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n\r\n    // 分页\r\n    // handlePageChange(page) {\r\n    //   this.pageIndex = page - 1;\r\n    //   console.log(this.pageIndex);\r\n    //   this.fetchQuestionList(this.pageIndex);\r\n    // },\r\n\r\n            // 删除\r\n    handleDelete(row) {\r\n      console.log(row)\r\n      deleteQuestion(row.id).then(res => {\r\n        this.$message({\r\n          type: \"success\",\r\n          message:\"已删除！\"\r\n        });\r\n        this.fetchQuestionList(this.pageIndex);\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchQuestionList(0);\r\n  }\r\n};\r\n</script>"]}]}